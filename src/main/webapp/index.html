<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src=https://code.jquery.com/jquery-3.6.0.min.js></script>
    <link href="css/main.css" rel="stylesheet">
</head>
<body>
<table id="game">
    <tr>
        <td class="cell" id="0"></td>
        <td class="cell" id="1"></td>
        <td class="cell" id="2"></td>
    </tr>
    <tr>
        <td class="cell" id="3"></td>
        <td class="cell" id="4"></td>
        <td class="cell" id="5"></td>
    </tr>
    <tr>
        <td class="cell" id="6"></td>
        <td class="cell" id="7"></td>
        <td class="cell" id="8"></td>
    </tr>
</table>

</body>
</html>
<script>
    const BASE_URL = "http://localhost:8080";
    let cross = true;

    $(document).ready(function() {
        const GAME = document.getElementById('game');
        const CELLS = GAME.querySelectorAll('td');

        CELLS.forEach(cell => {
            cell.addEventListener('click', () => {
                if (!cell.textContent) {
                    cell.textContent = cross ? 'X' : 'O';
                    move(cell);
                }
            })
        })
    })

    function move(cell) {

        cell.value = cross ? 'X' : 'O';
        cross = !cross;

        $.ajax({
            type: "POST",
            url: `${BASE_URL}/rest/move`,
            data: JSON.stringify({coordinates: cell.id, value: cell.value})
        }).then(res => {
            console.log(res);
        })
    }
</script>